<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Debug Chi Tiết Sản Phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <h2><i class="bi bi-bug"></i> Debug Chi Tiết Sản Phẩm</h2>
                <hr>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i>
                    <strong>Kiểm tra console để xem log chi tiết</strong>
                </div>
                
                <h4>Tất cả chi tiết trong database:</h4>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Sản phẩm ID</th>
                                <th>Màu sắc</th>
                                <th>Kích thước</th>
                                <th>Chất liệu</th>
                                <th>Số lượng</th>
                                <th>Giá bán</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="ct : ${allChiTiets}">
                                <td th:text="${ct.id}"></td>
                                <td th:text="${ct.sanPham != null ? ct.sanPham.id : 'null'}"></td>
                                <td th:text="${ct.mauSac != null ? ct.mauSac : 'null'}"></td>
                                <td th:text="${ct.kichThuoc != null ? ct.kichThuoc : 'null'}"></td>
                                <td th:text="${ct.chatLieu != null ? ct.chatLieu : 'null'}"></td>
                                <td th:text="${ct.soLuong != null ? ct.soLuong : 'null'}"></td>
                                <td th:text="${ct.gia_ban != null ? ct.gia_ban : 'null'}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Chi tiết cho sản phẩm hiện tại:</h4>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead class="table-primary">
                            <tr>
                                <th>ID</th>
                                <th>Màu sắc</th>
                                <th>Kích thước</th>
                                <th>Chất liệu</th>
                                <th>Số lượng</th>
                                <th>Giá bán</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="ct : ${chiTiets}">
                                <td th:text="${ct.id}"></td>
                                <td th:text="${ct.mauSac != null ? ct.mauSac : 'null'}"></td>
                                <td th:text="${ct.kichThuoc != null ? ct.kichThuoc : 'null'}"></td>
                                <td th:text="${ct.chatLieu != null ? ct.chatLieu : 'null'}"></td>
                                <td th:text="${ct.soLuong != null ? ct.soLuong : 'null'}"></td>
                                <td th:text="${ct.gia_ban != null ? ct.gia_ban : 'null'}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-3">
                    <a href="/san-pham" class="btn btn-secondary">
                        <i class="bi bi-arrow-left"></i> Quay lại danh sách sản phẩm
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
